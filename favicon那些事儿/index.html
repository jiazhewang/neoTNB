<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Baidu -->
  <meta name="baidu-site-verification" content="GkJBD94lOz" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- set how the text shows on the tab of the browsers -->
  <title>
    
      favicon那些事儿 &middot; Neo TNB
    
  </title>

  <!-- SEO -->
  <meta name="keywords" content="favicon 图标 ico png icon 标签栏 小图标 位图 32位色">
  <meta name="description" content="这篇文章介绍了 UI 设计师和 web 工程师们都应该了解的 favicon。顺便解释了一下一些更深入的文件格式知识，以及 favicon 的制作和在网页代码中的使用方法。">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" type="text/css" href="/public/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/public/css/font-awesome.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Neo TNB
        </a>
      </h1>
      <p class="lead">-· &nbsp;  Neo TreeNewBee  &nbsp; ·-</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">主页 | Home</a>

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/Freecens/">风信子 | Freecens</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/aboutme/">关于我 | About me</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/categories/">文章分类 | Categories</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">标签 | Tags</a>
          
        
      

      <span class="sidebar-nav-item"><i class="fa fa-refresh"></i> Updated on 2016-06-29  </span>
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">favicon那些事儿</h1>
  <span class="post-date"><i class="fa fa-calendar"></i> 2016-06-21 &nbsp;</span>
  <span class="post-date"><i class="fa fa-refresh"></i> 2016-06-29 &nbsp;</span>
  <span class="post-tag"><i class="fa fa-tag"></i> 技术 设计</span>
  <blockquote>
  <p>这篇文章介绍了 UI 设计师和 web 工程师们都应该了解的 favicon。
顺便解释了一下一些更深入的文件格式知识。
以及 favicon 的制作和在网页代码中的使用方法。</p>
</blockquote>

<h2 id="favicon">啥是favicon呀?</h2>

<p>favicon， 也就是 favorite icon（收藏图标）的简称。当我们在浏览器上访问网站的时候，每个网站的 favicon 会出现在浏览器标签栏对应网站的标签上，网站标题的左边。当你收藏一个网站的时候，可以在收藏夹里看到这个图标，以此来表示对应网站。通常，网站会直接使用自己或者公司的 logo 来做 favicon。</p>

<p><img src="http://uncleneo.com//assets/img/itisfavicon.png" alt="favicon就是它" /></p>

<p>favicon 是网站设计和开发中最基础的环节之一，是所有 UI 设计师和 web 工程师都应该了解的内容。</p>

<!-- more -->

<h2 id="ico-vs-png">格式：<code class="highlighter-rouge">.ico</code> vs <code class="highlighter-rouge">.png</code></h2>

<p>通常，favicon 会使用<code class="highlighter-rouge">.ico</code>后缀格式，<code class="highlighter-rouge">.ico</code>文件是可以存储单个图案、多尺寸、多色板的图标文件。一个图标实际上是多张不同格式的图片的集合体，并且还包含了一定的透明区域。</p>

<p>但是，随着新协议的允许，现在的标准越来越流行使用<code class="highlighter-rouge">.png</code>格式的 favicon 了。那么<code class="highlighter-rouge">.png</code>到底好在哪里呢？</p>

<h3 id="png">更易制作的<code class="highlighter-rouge">.png</code></h3>

<p>作为大家熟悉的图片格式，<code class="highlighter-rouge">.png</code>可以通过诸多软件制作，Photoshop、AI、sketch 等主流设计类软件都支持<code class="highlighter-rouge">.png</code>文件的编辑和导出。</p>

<p>相比之下，<code class="highlighter-rouge">.ico</code>文件不太被熟知，更多被应用在微软的 Windows 系统中。许多设计类工具，包括最主流的 Photoshop 等都不支持<code class="highlighter-rouge">.ico</code>文件的编辑和导出。不太熟练的设计师和开发者可能需要搜索许多方法来制作<code class="highlighter-rouge">.ico</code>文件。比如说类似<a href="http://convertico.com/">convertico.com</a>的一些在线的格式转换网站，或者是一些 app 工具，就像 Mac 上的 <a href="https://itunes.apple.com/cn/app/icon-slate/id439697913?mt=12">Icon Slate</a>。</p>

<p>虽然做多了以后都不会很复杂，但是<code class="highlighter-rouge">.png</code>还是更接地气一些。</p>

<h3 id="png-1">显示效果更好的<code class="highlighter-rouge">.png</code></h3>

<p>有一种说法是，除了是更加通用的图片格式以外，<code class="highlighter-rouge">.png</code>的显示效果更好。理由是，<code class="highlighter-rouge">.png</code>格式允许使用<strong>8位 alpha 通道的透明度（ 8-bit alpha-channel transparency）</strong>，这可以使得你的 favicon 在一些特殊背景色下有更好的展示效果。有些浏览器的标签栏是白色的，有些是灰色的，有些还可以套用不同的浏览器主题，变成彩色的。在各种背景色下，<code class="highlighter-rouge">.png</code>格式的 favicon 因为更高级的透明度机制，都可以有较好的显示效果。</p>

<p>但是也有说法是，<code class="highlighter-rouge">.ico</code>也支持32位色的图片，也就是也支持8位的透明度。说道这个问题，不免就要提一提这些都是什么意思了。</p>

<h4 id="section">位&amp;图</h4>

<p>当我们用数字来存储一张图片，可以想象无非就是裁好一张画布有多大，把画布分割成数以万计的小方格（像素点），每种方格上用记号表示一种颜色（比如用5201314表示屎色），大概就是这样子。但是颜色有那么多种，我们人眼的感光细胞分为视杆细胞和视锥细胞，其中视锥细胞用来感受颜色，我们人类有三种，所以就有三原色，而皮皮虾有16种，所以……额，不谈了吧，扯远了。想听冷知识的朋友可以<a href="http://uncleneo.com//assets/img/pipixia.jpg">戳这里看小黄图</a>。</p>

<p>我们重新说啊，啥是 favicon 呀？……大概就是这样子。但是颜色有那么多种，我们如何来用数字记录下来呢？我们知道计算机里都是用0和1来搞事情的。100111010110101010101111100101010100001…这样子。那么当然是0或1的数字位数越多，能记录的信息量越大啦。这就扯到了<strong>位（bit）</strong>的概念。32位色，就是说拿32个数字位来表示一个颜色。蹊跷的是，颜色这个东西吧，它还有个透明度呢。透明度不同，颜色那是大大滴不同啊。</p>

<p>记录一张图片，怎么记录是由系统和格式规定的。对于<em>小于32位色</em>的格式，统一用一种方式：用一个<strong>颜色层（color mask）</strong>和一个<strong>不透明度层（opacity mask）</strong>叠加的方式来表示。通常不透明度层用1位表示每个像素到底是透明还是不透明。</p>

<blockquote>
  <p>科普一下，<strong>opacity = 不透明度</strong>，<strong>transparency = 透明度</strong>，有些朋友经常搞反哇。</p>
</blockquote>

<blockquote>
  <p>颜色层又叫 XOR mask （异或层），不透明度层又叫 AND mask（与层），学计算机的朋友可以根据真值表来感性理解一下。</p>
</blockquote>

<p>而对于32位色图，其实是一个24位的图加上一个8位的通道专门记录<strong>alpha 混合（alpha compositing）</strong>。至于这又是什么，我们就不再多说了，反正就是可以表现华丽丽的透明感。</p>

<p>所以我们回过头来看，到底<code class="highlighter-rouge">.ico</code>的透明度表现比<code class="highlighter-rouge">.png</code>差吗？绕了一圈我们还是要回归<code class="highlighter-rouge">.ico</code>的定义，其实它就是把很多小图片打包了嘛。为什么它多用在 Windows 上？还记得用 Windows 的时候，是可以设置桌面图标大小的吗？根据你设置的不同，【我的电脑】会显示16×16（小图标）、32×32、48×48、24×24、64×64、128×128的尺寸。Windows vista 以后，256×256也可以显示了。所以，一个<code class="highlighter-rouge">.ico</code>文件里，其实就包含了这么多不同尺寸的图片。那么<code class="highlighter-rouge">.ico</code>文件是不是32位图呢？那就看它里面的图片文件一开始是不是32位图嘛！</p>

<p><strong>综上</strong>，我觉得所谓<code class="highlighter-rouge">.png</code>显示效果就比<code class="highlighter-rouge">.ico</code>牛是武断的说法。但可以认同的是<code class="highlighter-rouge">.ico</code>更杂水更深，你不确定它的透明度效果就是好的，除非是你用正确的方式制作出来的。而谈到为什么许多人现在喜欢用<code class="highlighter-rouge">.png</code>，更主要的原因，我认为还是<code class="highlighter-rouge">.png</code>更易制作、编辑、和导出。</p>

<blockquote>
  <p>更多的 favicon 设计知识参见<a href="https://realfavicongenerator.net/faq#.V2ky8ZN97OQ">这里</a>。</p>
</blockquote>

<h2 id="ico">怎么把<code class="highlighter-rouge">.ico</code>文件放到网页上呢？</h2>

<p>其实很简单，其实很自然…在 HTML 代码的<code class="highlighter-rouge">&lt;head&gt;</code>里加一行代码，引用你的<code class="highlighter-rouge">favicon.ico</code>文件就可以了。</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"/host/favicon.ico"</span> <span class="na">rel=</span><span class="s">"shortcut icon"</span><span class="nt">&gt;</span></code></pre></figure>

<p>一般我们会直接把这个文件就命名为<code class="highlighter-rouge">favicon.ico</code>。然后放在网站的根目录下，不会和其他图片文件放在一起。这样做是因为有一些浏览器（比如360安全浏览器，呵呵）会忽略你的端口啊路径啊什么的，直接优先访问根目录下的<code class="highlighter-rouge">favicon.ico</code>文件。所以，为了确保你的 favicon 起作用，或者说让兼容性更好，我们要把它放在根目录下，也就是<code class="highlighter-rouge">http://host/favicon.ico</code>，而不是<code class="highlighter-rouge">http://host/somepath/favicon.ico</code>。比如我的网站，就是放在<code class="highlighter-rouge">http://uncleneo.com/favicon.ico</code>。</p>

<h2 id="png-2">怎么把<code class="highlighter-rouge">.png</code>文件放到网页上呢？</h2>

<p>让我们先来看一下老派的做法，也就是<code class="highlighter-rouge">.ico</code>文件的设置。</p>

<p>一般来说，我们要先制作好一个至少包含了32x32尺寸的32位图的<code class="highlighter-rouge">.ico</code>文件。最好包含的尺寸多一些，我们要考虑到其跨浏览器的特性需要。</p>

<p>比如说，我们先来看 IE 这个愚蠢的浏览器。在 IE11 版本之前，它都是不支持用<code class="highlighter-rouge">.png</code>来做 favicon 的。所以为了它之前的版本，我们要在代码开头为 IE9 它老人家以及比它更老的人家加上一行：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!--[if IE]&gt;&lt;link rel="shortcut icon" href="path/to/favicon.ico"&gt;&lt;![endif]--&gt;</span></code></pre></figure>

<blockquote>
  <p>这里插播一个笑话：由于 IE10 既不支持<code class="highlighter-rouge">.png</code>又不支持条件注释，所以它在这种情况下…没法显示 favicon！好在 IE10 也没什么人用，这里我们选择忽略它！谁是 IE10？ 我不认识。另外，鼓励所有程序员和设计师使用<code class="highlighter-rouge">Google Chrome</code>浏览器。不用挑了，就是它！</p>
</blockquote>

<p>另外，值得一提的是，Chrome 和 Safari 这样的浏览器会自动使用<code class="highlighter-rouge">.ico</code>文件，只要它们发现代码里有。所以我们要写在<code class="highlighter-rouge">if</code>条件里。</p>

<p>对于<code class="highlighter-rouge">.png</code>，标准的做法是，加入这样一行：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"icon"</span> <span class="na">href=</span><span class="s">"path/to/favicon.png"</span><span class="nt">&gt;</span></code></pre></figure>

<p>这个<code class="highlighter-rouge">favicon.png</code>应该是<code class="highlighter-rouge">196x196 px</code>的尺寸，这样可以兼容几乎所有设备。</p>

<p>要想让它也适用于移动设备上的touch icon，我们可以用苹果的私有属性：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"apple-touch-icon-precomposed"</span> <span class="na">href=</span><span class="s">"apple-touch-icon-precomposed.png"</span><span class="nt">&gt;</span></code></pre></figure>

<blockquote>
  <p>设置<code class="highlighter-rouge">apple-touch-icon-precomposed</code>属性（预处理）不会让你的图标在 iOS 上加上苹果默认的那种图标反光，如果要加上那种效果，可以改用<code class="highlighter-rouge">apple-touch-icon</code>属性。其他一些厂商（如黑莓）也会沿用<code class="highlighter-rouge">apple-touch-icon-precomposed</code>属性，他们并没有那种反光效果。</p>
</blockquote>

<p>这个<code class="highlighter-rouge">apple-touch-icon-precomposed.png</code>图片应该是<code class="highlighter-rouge">180x180 px</code>的尺寸。这是苹果官方的建议。</p>

<blockquote>
  <p>提醒一点：这个属性动不动就可能被停用，特别是安卓和谷歌系的其他产品。</p>
</blockquote>

<p>提了苹果，顺带也提一下微软。微软 IE11 以上的磁贴设计，对 icon 的建议是涵盖一系列尺寸的透明图片。有了这些图片以后还需要建立一个<code class="highlighter-rouge">xml</code>文件叫做<code class="highlighter-rouge">browserconfig.xml</code>放到你站点的根目录下，然后 link 到页面中去。由于本人不太偏爱微软的东西，这里不细说了，对不起！各位可以去看<a href="http://msdn.microsoft.com/en-us/library/ie/dn455106%28v=vs.85%29.aspx">微软的官方介绍</a>。如果你竟然还想兼容 Windows Phone，那么也请去看<a href="http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/10/19/creating-a-custom-tile-to-link-to-your-website.aspx">微软相关的介绍</a>吧。</p>

<h2 id="section-1">总结</h2>

<p><strong>综上</strong>，你为了 favicon 所做的代码应该是这个样子：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- For IE 9 and below. ICO should be 32x32 pixels in size --&gt;</span>
<span class="c">&lt;!--[if IE]&gt;&lt;link rel="shortcut icon" href="path/to/favicon.ico"&gt;&lt;![endif]--&gt;</span>

<span class="c">&lt;!-- Touch Icons - iOS and Android 2.1+ 180x180 pixels in size. --&gt;</span> 
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"apple-touch-icon-precomposed"</span> <span class="na">href=</span><span class="s">"apple-touch-icon-precomposed.png"</span><span class="nt">&gt;</span>

<span class="c">&lt;!-- Firefox, Chrome, Safari, IE 11+ and Opera. 196x196 pixels in size. --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"icon"</span> <span class="na">href=</span><span class="s">"path/to/favicon.png"</span><span class="nt">&gt;</span></code></pre></figure>

<p>最后，关于 favicon 的更多设计信息，可以参考以下几个网站：</p>

<ul>
  <li><a href="https://realfavicongenerator.net/">real favicon generator</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Favicon">wikipedia/favicon</a></li>
</ul>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/%E5%B7%A5%E4%BD%9C%E4%B8%8E%E6%A2%A6%E6%83%B3/">
            工作与梦想
            <small>19 Jun 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/%E6%83%B3%E4%B8%BA%E8%87%AA%E7%94%B1%E8%81%8C%E4%B8%9A%E8%80%85%E4%BB%AC%E5%81%9A%E4%BA%9B%E4%BA%8B/">
            想为自由职业者们做些事
            <small>17 Jun 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/AlphaGo%E7%A2%BE%E5%8E%8B%E4%BA%86%E5%9B%B4%E6%A3%8B%E5%86%A0%E5%86%9B-%E5%85%B3%E4%BD%A0%E4%BB%80%E4%B9%88%E4%BA%8B/">
            AlphaGo碾压了围棋冠军，关你什么事
            <small>12 Mar 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
    </div>

  </body>
</html>
